<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.25.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  
  <title>Image Manipulation with Zend 1.x &middot; Mildly Skilled</title>
  

  
  <link rel="stylesheet" href="css/print.css" media="print">
  <link rel="stylesheet" href="css/poole.css">
  <link rel="stylesheet" href="css/syntax.css">
  <link rel="stylesheet" href="css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="../../favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Mildly Skilled" />
</head>

<body class=" layout-reverse">
  <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href=""><h1>Mildly Skilled</h1></a>
      <p class="lead">
       Software development for the mildly skilled. A blog maintained by Kwabena Aning, whose opinions are his own :/ 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="">Home</a> </li>
      
    </ul>

    <p>&copy; 2017. All rights reserved. </p>
  </div>
</div>


  <div class="content container">
    <div class="post">
      <h1>Image Manipulation with Zend 1.x</h1>
      <span class="post-date">Fri, Apr 8, 2011</span>
      <p>I had been on the prowl for an MVC approach to image manipulation. Especially a method that did it the Zend way. In the forums and documentation for the framework the <a href="http://framework.zend.com/wiki/display/ZFPROP/Zend_Image+Proposal+-+Davey+Shafik">developers didn&rsquo;t see a real need to implement</a> a &ldquo;Zend_Image&rdquo; class in the libraries as this was already available through the PHP GD and Imagick hooks.</p>

<p>Some of us however did and there are a <a href="http://www.ajaxray.com/blog/2008/09/12/image-manipulation-in-zend-framework-with-php-thumbnailer-class-v20/">few tutorials</a> on how to incorporate the <a href="http://www.gen-x-design.com/projects/php-thumbnailer-class/">PHPThumb library</a> into Zend. I have used the PHPThumb Library on the <a href="http://mokocharlie.com">mokocharlie.com</a> project and found it I however stumbled on a much simpler way of doing this that feels more native to the framework Zend_Image is that implementation hidden <a href="http://code.google.com/p/zend-image/">somewhere on the code.google.com</a> hosting servers.</p>

<pre><code>$image = new Zend_Image( APPLICATION_PATH.'/../public/media/images/large/'.$filename,
   new Zend_Image_Driver_Gd());
   $transform = new Zend_Image_Transform($image);
   if($image-&gt;getWidth() &gt; $image-&gt;getHeight()){
       $transform-&gt;fitToWidth(295)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/medium/'.$filename);
       $transform-&gt;fitToWidth(147)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/small/'.$filename);
       $transform-&gt;center()-&gt;middle()-&gt;crop(74, 74)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/tiny/'.$filename);
   }else{
       $transform-&gt;fitToHeight(300)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/medium/'.$filename);
       $transform-&gt;fitToWidth(147)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/small/'.$filename);
       $transform-&gt;center()-&gt;middle()-&gt;crop(74, 74)
       -&gt;save(APPLICATION_PATH.'/../public/media/images/tiny/'.$filename);
   }
</code></pre>

<p>The above is my implementation of it as I create three versions of an uploaded image.</p>

    </div>

			
		</div>

</body>
</html>